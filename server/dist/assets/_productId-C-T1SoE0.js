import{G as x,r as N,j as e,f as v,i as y,L as n,I as b,p as u}from"./index-Cs5wVyye.js";import{u as p}from"./useQuery-XWP2PLP8.js";import{B as L}from"./BackButton-Bf52pQYl.js";import{P as w}from"./ProductCard-D8e8eYyl.js";import{A as g}from"./arrow-right-CPVPNKXg.js";function C(s){return x({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.1813 1.68179C7.35704 1.50605 7.64196 1.50605 7.8177 1.68179L10.3177 4.18179C10.4934 4.35753 10.4934 4.64245 10.3177 4.81819C10.142 4.99392 9.85704 4.99392 9.6813 4.81819L7.9495 3.08638L7.9495 11.9136L9.6813 10.1818C9.85704 10.0061 10.142 10.0061 10.3177 10.1818C10.4934 10.3575 10.4934 10.6424 10.3177 10.8182L7.8177 13.3182C7.73331 13.4026 7.61885 13.45 7.4995 13.45C7.38015 13.45 7.26569 13.4026 7.1813 13.3182L4.6813 10.8182C4.50557 10.6424 4.50557 10.3575 4.6813 10.1818C4.85704 10.0061 5.14196 10.0061 5.3177 10.1818L7.0495 11.9136L7.0495 3.08638L5.3177 4.81819C5.14196 4.99392 4.85704 4.99392 4.6813 4.81819C4.50557 4.64245 4.50557 4.35753 4.6813 4.18179L7.1813 1.68179Z",fill:"currentColor"},child:[]}]})(s)}function _(s){return x({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4.81812 4.68161C4.99386 4.85734 4.99386 5.14227 4.81812 5.318L3.08632 7.0498H11.9135L10.1817 5.318C10.006 5.14227 10.006 4.85734 10.1817 4.68161C10.3575 4.50587 10.6424 4.50587 10.8181 4.68161L13.3181 7.18161C13.4939 7.35734 13.4939 7.64227 13.3181 7.818L10.8181 10.318C10.6424 10.4937 10.3575 10.4937 10.1817 10.318C10.006 10.1423 10.006 9.85734 10.1817 9.68161L11.9135 7.9498H3.08632L4.81812 9.68161C4.99386 9.85734 4.99386 10.1423 4.81812 10.318C4.64239 10.4937 4.35746 10.4937 4.18173 10.318L1.68173 7.818C1.50599 7.64227 1.50599 7.35734 1.68173 7.18161L4.18173 4.68161C4.35746 4.50587 4.64239 4.50587 4.81812 4.68161Z",fill:"currentColor"},child:[]}]})(s)}function k(s){return x({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M219.88,151.05a4,4,0,0,1-2.93,4.83l-28.6,7L195.86,191a4,4,0,0,1-2.83,4.9,3.65,3.65,0,0,1-1,.14,4,4,0,0,1-3.86-3L180,162.64l-48-27.71v55.41l22.83,22.83a4,4,0,0,1-5.66,5.66L128,197.66l-21.17,21.17a4,4,0,0,1-5.66-5.66L124,190.34V134.93L76,162.64,67.86,193A4,4,0,0,1,64,196a3.65,3.65,0,0,1-1-.14,4,4,0,0,1-2.83-4.9l7.51-28.05-28.6-7A4,4,0,1,1,41,148.12l31,7.61L120,128,72,100.27l-31,7.61a4.07,4.07,0,0,1-1,.12,4,4,0,0,1-1-7.88l28.6-7L60.14,65A4,4,0,0,1,67.86,63L76,93.36l48,27.71V65.66L101.17,42.83a4,4,0,0,1,5.66-5.66L128,58.34l21.17-21.17a4,4,0,1,1,5.66,5.66L132,65.66v55.41l48-27.71L188.14,63A4,4,0,0,1,195.86,65l-7.51,28.05,28.6,7A4,4,0,0,1,216,108a4.07,4.07,0,0,1-1-.12l-31-7.61L136,128l48,27.73,31-7.61A4,4,0,0,1,219.88,151.05Z"},child:[]}]})(s)}function P({images:s=[],className:o="h-[50vh] w-full sm:h-[60vh] lg:h-[85vh]"}){const[a,d]=N.useState(0),i=s[a]||null;return e.jsx("div",{className:"mx-auto w-full",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"relative w-full overflow-hidden rounded bg-gray-50",children:e.jsx("div",{className:`w-full ${o}`,children:i?e.jsx("img",{src:i.url,alt:i.altText||i.caption||"Product image",className:"h-full w-full object-cover",loading:"eager",decoding:"async",fetchPriority:a===0?"high":"auto"}):e.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No image available"})})})}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex w-full justify-center gap-3 overflow-x-auto py-2",children:s.map((l,r)=>e.jsx("button",{onClick:()=>d(r),"aria-pressed":a===r,className:`focus:ring-primary/30 flex-shrink-0 rounded transition-colors focus:outline-none focus:ring-2 ${a===r?"ring-2 ring-primary":"ring-0"}`,"aria-label":l.altText||l.caption||`Thumbnail ${r+1}`,children:e.jsx("img",{src:l.thumb||l.url,alt:l.altText||l.caption||`Thumbnail ${r+1}`,className:"h-20 w-20 rounded object-cover",loading:"lazy",decoding:"async"})},(l.url||r)+r))})})]})})}function B(){var h;const{t:s,i18n:o}=v("product"),a=((h=o.language)==null?void 0:h.split("-")[0])||"de",{productId:d}=y.useParams(),{data:i,isLoading:l,isError:r}=p({queryKey:["prodcuts"],queryFn:()=>u.getAllProducts()}),{data:t,isLoading:f,isError:j}=p({queryKey:["product",d],queryFn:()=>u.getOneProduct(d)});if(f||l)return e.jsx("div",{className:"bg-three flex min-h-screen items-center justify-center",children:e.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:s("loading")})})});if(j||r)return e.jsx("div",{className:"bg-three flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:s("product_not_found")}),e.jsx("p",{className:"mt-4 text-gray-600",children:s("product_not_found_desc")}),e.jsx(n,{to:"/products",className:"mt-6 inline-block rounded-md bg-primary px-6 py-3 text-on-dark hover:bg-primary-dark",children:s("back_to_products")})]})});const m=i==null?void 0:i.filter(c=>c._id!==t._id).slice(0,6);return e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto mt-8 px-4 sm:mt-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2 lg:gap-24",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx(L,{to:"/products",label:s("back_to_products"),className:"mb-4"}),e.jsx("div",{className:"flex w-full items-start justify-center",children:e.jsx(P,{images:t.images,className:"aspect-[2/3] max-h-[345px] md:max-h-[480px]"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"mb-2 font-poppins text-2xl font-semibold text-primary sm:text-3xl",children:t.common_name[a]}),e.jsx("hr",{className:"border-muted/60 mb-6 border-0 border-b-2"}),e.jsxs("div",{className:"grid w-full grid-cols-2 gap-x-8 gap-y-6 rounded-lg bg-white p-6 shadow-lg sm:grid-cols-2 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"h-8 w-8 rounded bg-muted p-1 text-primary"}),e.jsx("p",{className:"whitespace-nowrap",children:s("height")})]}),e.jsx("div",{className:"flex items-center font-semibold text-text",children:t.height?`${t.height} cm`:"—"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{className:"h-8 w-8 rounded bg-muted p-1 text-primary"}),e.jsx("p",{className:"whitespace-nowrap",children:s("diameter")})]}),e.jsx("div",{className:"flex items-center font-semibold text-text",children:t.diameter?`${t.diameter} cm`:"—"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"h-8 w-8 rounded bg-muted p-1 text-primary"}),e.jsx("p",{className:"whitespace-nowrap",children:s("hardy")})]}),e.jsx("div",{className:"flex items-center font-semibold text-text",children:t.hardiness?`${t.hardiness}°C`:"—"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"h-8 w-8 rounded bg-muted p-1 text-primary"}),e.jsx("p",{className:"whitespace-nowrap",children:s("light")})]}),e.jsx("div",{className:"flex items-center font-semibold text-text",children:t.light[a]})]})]}),e.jsx("p",{className:"text-justify leading-relaxed text-text",children:t.description[a]})]})]})}),e.jsx("section",{className:"mt-12 bg-white py-8 sm:py-12",children:e.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 md:text-4xl",children:s("related_products")}),e.jsx("p",{className:"mt-2 text-lg text-gray-600",children:s("you_might_also_like")})]}),e.jsxs(n,{to:"/products",className:"hidden items-center text-primary transition-colors hover:text-primary-dark md:flex",children:[s("view_all_products")," ",e.jsx(g,{size:16,className:"ml-2"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 gap-y-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6",children:m==null?void 0:m.map(c=>e.jsx(n,{to:`/products/${c._id}`,children:e.jsx(w,{product:c})},c._id))}),e.jsx("div",{className:"mt-8 text-center md:hidden",children:e.jsxs(n,{to:"/products",className:"inline-flex items-center text-primary transition-colors hover:text-primary-dark",children:["View all products ",e.jsx(g,{size:16,className:"ml-2"})]})})]})})]})}export{B as component};
