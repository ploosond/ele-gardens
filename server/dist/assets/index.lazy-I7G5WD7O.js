import{g as h,j as e,c as u,f as g,r as l,L as j,p as f}from"./index-DL9tVKVf.js";import{P as y}from"./ProductCard-CVjhk3Wr.js";import{u as N}from"./useQuery-u0o9TQXQ.js";/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],b=h("search",v),w=({value:r,onChange:i,placeholder:c="Search..."})=>e.jsxs("div",{className:"relative mx-auto max-w-md",children:[e.jsx("input",{type:"text",placeholder:c,value:r,onChange:i,className:"w-full rounded-lg border border-transparent bg-white/10 py-3 pl-10 pr-4 text-white placeholder-white/70 shadow-md focus:border-primary focus:outline-none focus:ring-primary"}),e.jsx(b,{className:"absolute left-3 top-1/2 -translate-y-1/2 transform text-white/70",size:20})]}),C=u("/products/")({component:_});function _(){const{t:r}=g("products"),{isLoading:i,isError:c,data:o,error:x}=N({queryKey:["products"],queryFn:()=>f.getAllProducts(),staleTime:3e4}),[n,d]=l.useState([]),[a,m]=l.useState("");return l.useEffect(()=>{if(!a)d(o||[]);else{const s=a.toLowerCase();d((o||[]).filter(t=>{const p=typeof t.description=="object"?t.description.en||t.description.de||"":t.description||"";return(t.common_name.en||"").toString().toLowerCase().includes(s)||(t.scientific_name||"").toString().toLowerCase().includes(s)||p.toString().toLowerCase().includes(s)}))}},[a,o]),i?e.jsx("div",{children:e.jsx("h2",{children:"Loading..."})}):c?e.jsx("div",{children:e.jsxs("h2",{children:["Error: ",x.message]})}):e.jsxs("div",{children:[e.jsx("section",{className:"relative bg-gradient-to-r from-primary-dark to-primary py-12 pb-8 text-on-dark",children:e.jsx("div",{className:"container relative mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 text-center",children:[e.jsxs("h2",{className:"text-4xl font-bold md:text-5xl",children:[r("hero_title")," ",e.jsx("span",{className:"text-green-300",children:r("hero_highlight")})]}),e.jsx("p",{className:"text-lg leading-relaxed text-white/80",children:r("hero_description")})]})})}),e.jsx("div",{className:"bg-gradient-to-r from-primary-dark to-primary pb-6",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(w,{value:a,onChange:s=>m(s.target.value),placeholder:r("search_placeholder")})})}),e.jsx("section",{className:"bg-white py-8 sm:py-12",children:e.jsx("div",{className:"mx-auto mt-0 px-4 sm:mt-0 sm:px-6",children:e.jsx("div",{className:"flex flex-col gap-6 lg:flex-row",children:e.jsx("div",{className:"w-full",children:n.length===0?e.jsxs("div",{className:"rounded-lg bg-gray-100 py-12 text-center",children:[e.jsx("h3",{className:"mb-2 text-xl font-medium",children:r("no_products_title")}),e.jsx("p",{className:"mb-4 text-gray-600",children:r("no_products_desc")}),e.jsx("button",{onClick:()=>m(""),className:"rounded-md bg-primary px-4 py-2 text-on-dark hover:bg-primary-dark",children:r("clear_filters")})]}):e.jsx("div",{className:"grid grid-cols-2 gap-4 gap-y-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6",children:n.map(s=>e.jsx(j,{to:"/products/$productId",params:{productId:s._id},children:e.jsx(y,{product:s})},s._id))})})})})})]})}export{C as Route,_ as default};
